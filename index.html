<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="robots" content="noindex,follow">
    <link rel="canonical" href="https://stellasinkchamber.com/chat/">
    <title>Chat with Stella - Stella's Ink Chamber</title>
    <meta name="description" content="Get instant answers about scalp micropigmentation from Stella. Chat live for personalized SMP consultation and pricing information.">
    
    <!-- Preconnect to external fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,600;0,700;1,400&display=swap" rel="stylesheet">
    
    <!-- Preconnect to Vapi CDN -->
    <link rel="preconnect" href="https://unpkg.com">
    
    <link rel="stylesheet" href="chat.css">
</head>
<body>
    <div class="chat-container">
        <!-- Compact Header -->
        <header class="chat-header">
            <div class="header-content">
                <img src="https://img1.wsimg.com/isteam/ip/3fb9aab3-ef16-45b5-a899-342b57c5a896/SIC%20logo.jpeg/:/rs=h:100,cg:true,m/qt=q:95" 
                     alt="Stella's Ink Chamber Logo" 
                     class="logo">
                <div class="header-text">
                    <h1>Chat with Stella</h1>
                    <p>Get instant answers about scalp micropigmentation</p>
                </div>
            </div>
        </header>

        <!-- Main Chat Area - Centered Call to Action -->
        <main class="chat-main" id="chat-main">
            <div class="chat-cta-container" id="cta-container">
                <button id="chat-open-button" class="chat-cta-button">
                    <span class="cta-icon">ðŸ’¬</span>
                    <span class="cta-text">TALK WITH STELLA</span>
                    <span class="cta-subtitle">Get instant answers about SMP</span>
                </button>
            </div>

            <!-- Vapi Chat Widget with Instructions -->
            <div id="vapi-container" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 9999; background: rgba(0, 0, 0, 0.3);">
                <!-- Instruction Overlay -->
                <div id="chat-instruction" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; z-index: 10000; pointer-events: none;">
                    <div style="background: linear-gradient(135deg, #14B8A6 0%, #0D9488 100%); color: white; padding: 24px 40px; border-radius: 16px; box-shadow: 0 20px 60px rgba(20, 184, 166, 0.4); max-width: 500px; pointer-events: auto;">
                        <div style="font-size: 2.5rem; margin-bottom: 12px;">ðŸ‘‡</div>
                        <h2 style="font-family: 'Libre Baskerville', serif; font-size: 1.5rem; margin: 0 0 8px 0; font-weight: 700;">Start Chatting with Stella</h2>
                        <p style="font-family: 'Source Sans Pro', sans-serif; font-size: 1rem; margin: 0 0 16px 0; opacity: 0.95;">Click the chat button in the bottom-right corner to begin your conversation</p>
                        <button id="got-it-btn" style="background: white; color: #14B8A6; border: none; padding: 12px 32px; border-radius: 8px; font-family: 'Source Sans Pro', sans-serif; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.2s ease; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);">Got it!</button>
                    </div>
                </div>

                <vapi-widget
                    public-key="462f73ea-ba32-416f-8dc0-0e08fda79f6d"
                    assistant-id="9c7f933e-b312-4c8f-86a8-53c55da5b1db"
                    mode="chat"
                    theme="dark"
                    base-bg-color="#293919"
                    accent-color="#3d5226"
                    cta-button-color="#293919"
                    cta-button-text-color="#ffffff"
                    border-radius="medium"
                    size="compact"
                    position="bottom-right"
                    title="ASK STELLA"
                    cta-button-title="Get SMP Help"
                    cta-button-subtitle="Expert advice & consultation booking"
                    start-button-text="Start Chat"
                    end-button-text="End Chat"
                    chat-first-message="Hi! I'm Stella's AI assistant. I can help answer your SMP questions or book you a free consultation. What would you like to know?"
                    chat-placeholder="Ask about SMP cost, pain, results, or book a consultation..."
                    chat-empty-message="Ask me anything about scalp micropigmentation or book a free consultation - I'm here to help!"
                    consent-required="true"
                    consent-title="Terms and conditions"
                    consent-content="By clicking "Agree," and each time I interact with this AI agent, I consent to the recording, storage, and sharing of my communications with third-party service providers, and as otherwise described in our Terms of Service."
                    consent-storage-key="vapi_widget_consent">
                </vapi-widget>
            </div>
        </main>

        <!-- Minimal Help Strip -->
        <div class="help-strip">
            <div class="help-content">
                <span>Mon-Fri 9AM-6PM, Sat 10AM-4PM</span>
                <a href="/contact">Contact</a>
                <a href="/privacy">Privacy</a>
            </div>
        </div>

        <!-- Noscript Fallback -->
        <noscript>
            <div class="noscript-fallback">
                <h2>JavaScript Required</h2>
                <p>This chat requires JavaScript to function. Please enable JavaScript or contact us directly:</p>
                <div class="fallback-links">
                    <a href="https://wa.me/1234567890" class="fallback-link whatsapp">WhatsApp</a>
                    <a href="/contact" class="fallback-link contact">Contact Page</a>
                </div>
            </div>
        </noscript>
    </div>

    <!-- Vapi Widget Script -->
    <script src="https://unpkg.com/@vapi-ai/client-sdk-react/dist/embed/widget.umd.js" type="text/javascript"></script>

    <!-- Simple button click handler -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const customButton = document.getElementById('chat-open-button');
            const vapiContainer = document.getElementById('vapi-container');
            const ctaContainer = document.getElementById('cta-container');
            const chatInstruction = document.getElementById('chat-instruction');
            const gotItBtn = document.getElementById('got-it-btn');

            if (customButton && vapiContainer) {
                customButton.addEventListener('click', function() {
                    console.log('Button clicked - opening chat');
                    // Hide the CTA button
                    ctaContainer.style.display = 'none';
                    // Show the Vapi widget container
                    vapiContainer.style.display = 'block';
                });
            }

            // Handle "Got it!" button click
            if (gotItBtn && chatInstruction) {
                gotItBtn.addEventListener('click', function() {
                    console.log('Got it clicked - hiding instruction');
                    chatInstruction.style.display = 'none';
                });

                // Add hover effect
                gotItBtn.addEventListener('mouseenter', function() {
                    this.style.transform = 'scale(1.05)';
                    this.style.boxShadow = '0 6px 16px rgba(0, 0, 0, 0.15)';
                });

                gotItBtn.addEventListener('mouseleave', function() {
                    this.style.transform = 'scale(1)';
                    this.style.boxShadow = '0 4px 12px rgba(0, 0, 0, 0.1)';
                });
            }
        });
    </script>
</body>
</html>
